= Koson

Concise Kotlin DSL for building JSON objects

== how to use

[source, java]
----
// to define an empty object
obj { }

// to define an object
obj {
  "attribute" to 42
}

// to define an array
array ["element"]

// to an empty array
emptyArray
----

NOTE: Any combination of these instruction is possible

[source, java]
----
val object = obj {
  "key" to 3.4
  "anotherKey" to array ["test", "test2", 1, 2.433, true]
  "nullsAreAllowedToo" to null
  "emptyArrayIsPossible" to emptyArray
}

// println(object)
// {"key":3.4,"anotherKey":["test","test2",1,2.433,true],"nullsAreAllowedToo":null,"emptyArrayIsPossible":[]}

val array = array ["aa",
  obj {
    "key" to 3.4
     "anotherKey" to array ["test", "test2", 1, 2.433, true]
  }
]

// println(array)
// ["aa",{"key":3.4,"anotherKey":["test","test2",1,2.433,true]}]
----

== Strong type constraints

* if a key (attribute) duplicate is found, an `IllegalArgumentException` is raised
* An `IllegalArgumentException` is raised if a JSON element values is not one of the following `Kotlin` types
** String
** Double
** Int
** Boolean
** null
** obj
** array

== Build prerequisites

* `java` version 8 or later
* `maven`

[source]
----
mvn package
----

